filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
nonNACount <- sum((is.na(pollutant_data$sulfate) == FALSE) && (is.na(pollutant_data$nitrate == FALSE)))
list1 <- c(id[i],nonNACount)
df <- rbind.data.frame(df,list1)
names(df) <- c("id","nobs")
}
df
}
c <- complete("specdata",30:25)
c
complete <- function(directory,id=1:332){
df <- data.frame()
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
nonNACount <- sum((is.na(pollutant_data$sulfate) == FALSE) && (is.na(pollutant_data$nitrate) == FALSE))
list1 <- c(id[i],nonNACount)
df <- rbind.data.frame(df,list1)
names(df) <- c("id","nobs")
}
df
}
c <- complete("specdata",30:25)
c
complete <- function(directory,id=1:332){
df <- data.frame()
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
nonNACount <- sum((is.na(pollutant_data$sulfate) == FALSE) && (is.na(pollutant_data$nitrate) == FALSE))
list1 <- c(id[i],nonNACount)
df <- rbind.data.frame(df,list1)
names(df) <- c("id","nobs")
}
df
}
c <- complete("specdata",30:25)
c
complete <- function(directory,id=1:332){
df <- data.frame()
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
nonNACount <- sum((is.na(pollutant_data$sulfate) == FALSE) & (is.na(pollutant_data$nitrate) == FALSE))
list1 <- c(id[i],nonNACount)
df <- rbind.data.frame(df,list1)
names(df) <- c("id","nobs")
}
df
}
c <- complete("specdata",30:25)
c
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory,id=1:332){
df <- data.frame()
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
nonNACount <- sum((is.na(pollutant_data$sulfate) == FALSE) && (is.na(pollutant_data$nitrate) == FALSE))
list1 <- c(id[i],nonNACount)
df <- rbind.data.frame(df,list1)
names(df) <- c("id","nobs")
}
df
}
complete("specdata", c(2, 4, 8, 10, 12))
?cor
data <- read.csv("specdata/001.csv")
cor(data$sulfate,data$nitrate)
cor(data$sulfate,data$nitrate,na.rm=TRUE)
cor(data$sulfate,data$nitrate,na.rm=FALSE
)
cor(data$sulfate,data$nitrate,use="pco)"
cor(data$sulfate,data$nitrate,use="pco")
cor(data$sulfate,data$nitrate,use="p.c.o")
cor(data$sulfate,data$nitrate,use = "pairwise.complete.obs")
corr <- function(directory, threshold=0){
return_cr <- 0
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[1] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i,'.csv',sep=''))
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
}
else
{
cr <- 0
}
return_cr <- return_cr + cr
}
return_cr
}
cr <- corr("specdata", 150)
source('~/pollutantmean.R')
cr <- corr("specdata", 150)
View(NumofValid)
source('~/pollutantmean.R')
cr <- corr("specdata", 150)
View(NumofValid)
num <- complete("specdata",1)
num
num[1][2]
num[,1]
num[1]
num[2]
num[1,]
num[1]
num
num[[2]][1]
num[1]
num[2]
source('~/pollutantmean.R')
corr <- function(directory, threshold=0){
return_cr <- 0
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[2] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i,'.csv',sep=''))
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
}
else
{
cr <- 0
}
return_cr <- return_cr + cr
}
return_cr
}
source('~/pollutantmean.R')
num <- complete("specdata",1)
cr <- corr("specdata", 150)
View(NumofValid)
paste("specdata",'/',sprintf("%03d",1,'.csv,sep=''))
)
paste("specdata",'/',sprintf("%03d",1,'.csv',sep=''))
?sprintf
corr <- function(directory, threshold=0){
return_cr <- 0
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[2] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i),'.csv',sep=''))
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
}
else
{
cr <- 0
}
return_cr <- return_cr + cr
}
return_cr
}
corr <- function(directory, threshold=0){
return_cr <- 0
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[2] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i),'.csv',sep='')
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
}
else
{
cr <- 0
}
return_cr <- return_cr + cr
}
return_cr
}
cr <- corr("specdata", 150)
cr
?paste
c <- "bala"
d <- "vinayak"
paste(c,d)
?paste0
?cat
e <- c(c,d)
e
e[2]
e <- NULL
e
e <- c(e,c)
e
lenght(e)
length(e)
e <- c(e,d)
e
corr <- function(directory, threshold=0){
return_cr <- NULL
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[2] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i),'.csv',sep='')
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
}
else
{
cr <- 0
}
return_cr <- c(return_cr,cr)
}
return_cr
}
cr <- corr("specdata", 150)
cr
head(cr)
?head
summary(cr)
corr <- function(directory, threshold=0){
return_cr <- NULL
no_valid_monitor = TRUE
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[2] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i),'.csv',sep='')
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
no_valid_monitor = FALSE
return_cr <- c(return_cr,cr)
}
}
if (no_valid_monitor == TRUE)
{
return_cr <- 0
}
return_cr
}
cr <- corr("specdata", 150)
cr
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
e
length(e) <- 0
length(e)
e
corr <- function(directory, threshold=0){
return_cr <- 0
no_valid_monitor = TRUE
for(i in 1:332){
NumofValid <- complete("specdata",i)
if (NumofValid[2] > threshold)
{
filename <- paste(directory,'/',sprintf("%03d",i),'.csv',sep='')
pollutant_data <- read.csv(filename)
cr <- cor(pollutant_data[,"sulfate"],pollutant_data[,"nitrate"],use = "pairwise.complete.obs")
no_valid_monitor = FALSE
return_cr <- c(return_cr,cr)
}
}
if (no_valid_monitor == TRUE)
{
length(return_cr) <- 0
}
return_cr
}
cr <- corr("specdata", 5000)
summary(cr)
length(e)
cr <- corr("specdata")
summary(cr)
length(cr)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
pollutantmean("specdata", "sulfate")
pollutantmean <- function(directory,pollutant,id=1:332){
pollutionmean_total <- 0
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
pollutionmean <- mean(pollutant_data[,pollutant],na.rm = T)
pollutionmean_total <- pollutionmean_total + pollutionmean
}
mean2 <- pollutionmean_total/length(id)
mean2
}
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length> (cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
?mean
?sum
pollutantmean <- function(directory,pollutant,id=1:332){
pollutionmean_total <- 0
num <- 0
pollution_total_monitor <- 0
pollution_total <- 0
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
pollution_total_monitor <- sum(pollutant_data[,pollutant],na.rm = T)
pollution_total <- pollution_total + pollution_total_monitor
num <-  num + 1
}
pollutionmean_total <- pollution_total/num
pollutionmean_total
}
pollutantmean("specdata", "sulfate", 1:10)
data
summary(data)
nrows(data)
nrow(data)
pollutantmean <- function(directory,pollutant,id=1:332){
pollutionmean_total <- 0
num <- 0
pollution_total_monitor <- 0
pollution_total <- 0
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
pollution_total_monitor <- sum(pollutant_data[,pollutant],na.rm = T)
pollution_total <- pollution_total + pollution_total_monitor
num <-  num + nrow(pollutant_data)
}
pollutionmean_total <- pollution_total/num
pollutionmean_total
}
pollutantmean("specdata", "sulfate", 1:10)
?nrow
sum(is.na(data$sulfate)==FALSE)
pollutantmean <- function(directory,pollutant,id=1:332){
pollutionmean_total <- 0
num <- 0
pollution_total_monitor <- 0
pollution_total <- 0
for(i in 1:length(id)){
filename <- paste(directory,'/',sprintf("%03d",id[i]),'.csv',sep='')
pollutant_data <- read.csv(filename)
pollution_total_monitor <- sum(pollutant_data[,pollutant],na.rm = T)
pollution_total <- pollution_total + pollution_total_monitor
num <-  num + sum(is.na(pollutant_data[,pollutant])==FALSE)
}
pollutionmean_total <- pollution_total/num
pollutionmean_total
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
ls()
rm(list=ls())
ls()
source("Week 2 Exercise.R")
ls()
pollutantmean("specdata", "nitrate")
x <- list(a=1:5,b=rnorm(10))
x
View(x)
lapply(x,mean)
x <- list(a=1:5,b=rnorm(10))
x
sapply(x,mean)
matrix(1:6,2:3)
a <- matrix(1:6,2:3)
a
a <- apply(a,mean,1)
apply(x,1,mean)
apply(a,1,mean)
apply(a,2,mean)
rep(1:4)
rep(1:4,4:1)
rep(1:4,2)
?runif
?gl
gl(2,8)
gl(2,1,20)
gl(2,2,20)
traceback()
debug()
debug(mean)
mean(a)
options(error=recover)
read.csv("Hello")
rm(list=ls())
swirl()
library(swirl)
swirl()
head(flags)
dim(flags)
class(flags)
cls_list <- lapply(flags,class)
cls_list
class(cls_list)
as.character(cls_list)
cls_vect <- sapply(flags,class)
class(cls_vect)
sum(flags$orange)
flag_colors <- flags[,11:17]
head(flag_colors)
lapply(flag_colors,sum)
sapply(flag_colors,sum)
sapply(flag_colors,mean)
undebug(mean)
sapply(flag_colors,mean)
flag_shapes <- flags[,19:23]
lapply(flag_shapes,range)
shape_mat <- sapply(flag_shapes,range)
shape_mat
class(shape_mat)
unique(c(3,4,5,5,5,6,6))
unique_vals(flags,unique())
options(error=NULL)
unique_vals <- lapply(flags,unique)
unique_vals
lapply(unique_vals,length)
sapply(unique_vals,length)
sapply(flags,unique)
lapply(unique_vals,function(elem)elem[2])
sapply(flags,unique)
vapply(flags,unique,numeric(1))
ok()
sapply(flags,class)
vapply(flags,class,character(1))
?tapply
table(flags$landmass)
table(flags$animate)
tapply(flags$animate,flags$landmass,mean)
tapply(flags$population,flags$red,summary)
tapply(flags$population,flags$landmass,summary)
?iris
View(iris)
sapply(iris$Sepal.Length,iris$Species,mean)
sapply(iris$Sepal.Length,mean,iris$Species)
?tapply
tapply(iris$Sepal.Length,iris$Species,mean)
tapply(iris$Sepal.Length,iris$Species,mean,round)
ans <- tapply(iris$Sepal.Length,iris$Species,mean)
ans
round(ans)
?apply
apply(iris[,1:4],2,mean)
View(mtcars)
mean(mtcars$mpg, mtcars$cyl)
tapply(mtcars$cyl, mtcars$mpg, mean)
with(mtcars, tapply(mpg, cyl, mean))
sapply(mtcars, cyl, mean)
sapply(split(mtcars$mpg, mtcars$cyl), mean)
lapply(mtcars, mean)
tapply(mtcars$mpg, mtcars$cyl, mean)
tapply(mtcars$hp, mtcars$cyl, mean)
c <- tapply(mtcars$hp, mtcars$cyl, mean)
c[3]-c[1]
x <- <- 6
x <<-6
x
numeric()
numeric(6.7)
numeric(4)
numeric(4) <- 5
list <- list(name="bala","age")
list$name
list
names(list[2]) <- age
names(list[2]) <- "age"
list
list[[2]][[1]]=25
list
names(list)
pwd()
getwd()
setwd("C:/Users/br/ProgrammingAssignment2")
getwd()
dir()
source("cachematrix.R")
